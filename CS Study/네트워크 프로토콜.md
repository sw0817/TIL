# 네트워크 프로토콜

## TCP / IP
> 통신 방식의 통일을 위해 만들어진 OSI 모형의 3~4 계층(Layer)이다

#### OSI 모형 (OSI Model / OSI 7 Layers)
> Open System Interconnection의 약자로 개방형 시스템, 상호연결을 부여하는 국제 표준이다.

1 ~ 4 계층은 하위, 5 ~ 7은 상위 계층으로 표현된다.

| 계층 번호 | 계층 이름 | 프로토콜 |
|----|----|----|
| 7 | 응용 (Application) | FTP, HTTP |
| 6 | 표현 (Presentation) | ASCII, MPEG |
| 5 | 세션 (Session) | SSH |
| 4 | 전송 (Transport) | **TCP**, UDP|
| 3 | 네트워크 (Network) | **IP**, 라우터 |
| 2 | 데이터 링크 (DataLink) | MAC, Ethernet|
| 1 | 물리 (Physical) | Ethernet |



**PDU(Protocol Data Unit)** : 프로토콜 데이터 단위로 해당 계층에서 전달하는 데이터 단위

![OSI 모형](https://i.loli.net/2020/08/17/MEs2TF5jGqbe3nh.jpg)

![img](https://media.vlpt.us/images/xldksps4/post/980fe5d0-fcfe-4395-9148-0a110475ba26/image.png)

### IP : 인터넷 프로토콜 (Internet Protocol)

> 송수신되는 인터넷 데이터 전달을 위한 인터넷 주소 프로토콜

네트워크를 통해 요청되고 응답되는 데이터의 원활한 송수신을 위해 잡아준 주소체계로 현재 IPv6까지 나왔지만 통상적으로 사용되는 것은 IPv4이다. 

- IPv4 : 10진법 숫자 4개로 표시되는 IP 주소로 32비트의 정보를 갖기에 최대 2^32개(약 43억개)의 주소 부여가 가능하다.
- IPv6 : 4자리의 16진수 숫자 8개로 표시한다. IPv4와는 달리 `.` 이 아닌 `:` 로 구분한다. 최대 2^128(약 340간개 (간, 구, 양, 자, 해, 경, 조, 억))의 주소 부여가 가능하여 사실상 고갈 걱정이 없다.

![Alt](https://i.loli.net/2020/08/17/nVUNf4WSDXbERQA.jpg)



### TCP : 전송 제어 프로토콜 (Transmission Control Protocol)

 받은 정보를 보내주기 위해 **Segment** (세그먼트)화 하는 과정 (8 bit)

Packet(패킷)과 Segment(세그먼트)는 택배를 생각하면 간단하다.

- 세그먼트(segment)
  - 발신지 포트 : 발신하는 application의 포트
  - 목적지 포트 : 수신해야 할 application의 포트
  - 순서 번호 : 순차적 전송할 경우 순서를 붙이며, 순서가 어긋나면 목적지 프로토콜이 이를 바로 잡는다.
  - 오류검출코드

- 네트워크 계층 :패킷(packet)

  - 발신지 컴퓨터 주소 : 패킷의 발신자 주소
  - 목적지 컴퓨터 주소 : 패킷의 수신자 주소
  - 서비스 요청 : 우선 순위와 같은 서브 네트워크의 사용을 요청할 수 있다.

  

TCP 프로토콜의 작동은 크게 세 가지 흐름으로 구분한다.

1. 연결 생성 (Connection establishment) - 3 handshakes
   1. 통신이 필요하다는 신호를 상대에게 보낸다
   2. 상대는 그에 대한 응답으로 통신 가능 여부를 보낸다
   3. 가능 여부를 받았다는 메시지에 응답을 보낸다.
2. 자료 전송 (Data transfer)
3. 연결 종료 (Connection termination)



**UDP**(User Datagram Protocol) : 적은 신뢰성, 높은 속도




## 라우터 / 라우팅

![ip](https://i.loli.net/2020/08/17/ygUp9cQF7o26EbI.jpg)

### 라우팅

- 네트워크에서 상위 통신망과 하위 통신망 사이를 중계해주는 것
- 패킷전송에 있어 최적의 경로를 찾아주는 과정이다.

# 쿠키와 세션 (Cookie & Session)

|           | 쿠키                                                     | 세션                                                         |
| --------- | -------------------------------------------------------- | ------------------------------------------------------------ |
| 지속성    | 지정된 시간 혹은 브라우저가 접속되어 있는 동안 유지된다. | 브라우저가 웹사이트에 접속되어 있는 동안. 지정된 시간동안 페이지 이동/갱신이 없으면 자동으로 삭제된다. |
| 저장 위치 | 사용자의 컴퓨터에 텍스트 파일 형태로 저장                | 웹 서버가 메모리에 저장                                      |
| 장점      | 사용자가 브라우저에 저장하기 때문에 서버 부담이 없다     | 서버에서 직접 저장 및 관리하기 때문에 보안에 대한 걱정이 없다 |
| 단점      | 브라우저에 저장되기 때문에 보안에 취약하다               | 사용된 변수 x 접속자 수 만큼의 변수를 서버에 직접 저장하기 때문에 값이 늘어나면 서버에 부담이 된다. |